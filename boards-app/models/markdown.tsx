export const lolAssets = {
  name: 'lolAssets',
  level: 'inline',
  start(src) { return src.match(/{{/)?.index; },
  tokenizer(src, tokens) {
    const rule = /^{{(sticker|champion|summoner|item):[a-z0-9\-]{1,25}}}/;
    const match = rule.exec(src);
    if (match) {
      const token = {
        type: 'lolAssets',
        raw: match[0],
      };
      return token;
    }
  },
  renderer(token) {
    const [delimType, parseKey] = token.raw.slice(2, -2).split(':');
    const stickers = {
      'slayer-jinx-catface': 'slayer140/',
      'slayer-jinx-unamused': 'slayer140/',
      'slayer-jinx-wink': 'slayer140/',
      'slayer-pantheon-popcorn': 'slayer140/',
      'slayer-pantheon-rainbows': 'slayer140/',
      'slayer-pantheon-thumbs': 'slayer140/',
      'zombie-brand-clap': 'slayer140/',
      'zombie-brand-facepalm': 'slayer140/',
      'zombie-brand-mindblown': 'slayer140/',
      'zombie-nunu-bummed': 'slayer140/',
      'zombie-nunu-hearts': 'slayer140/',
      'zombie-nunu-tears': 'slayer140/',
      'cass-cry': 'slayer140/',
      'darius-angry': 'slayer140/',
      'draven-pose': 'slayer140/',
      'fiora-cool': 'slayer140/',
      'galio-happy': 'slayer140/',
      'garen-swing': 'slayer140/',
      'katarina-love': 'slayer140/',
      'leblanc-funny': 'slayer140/',
      'poppy-wink': 'slayer140/',
      'sona-playing': 'slayer140/',
      'vayne-pose': 'slayer140/',
      'vlad-salute': 'slayer140/',
      'sg-ahri-1': 'starguardian140/',
      'sg-ahri-2': 'starguardian140/',
      'sg-ahri-3': 'starguardian140/',
      'sg-ezreal': 'starguardian140/',
      'sg-janna': 'starguardian140/',
      'sg-jinx': 'starguardian140/',
      'sg-kiko': 'starguardian140/',
      'sg-lulu': 'starguardian140/',
      'sg-lux': 'starguardian140/',
      'sg-lux-2': 'starguardian140/',
      'sg-miss-fortune': 'starguardian140/',
      'sg-poppy': 'starguardian140/',
      'sg-shisa': 'starguardian140/',
      'sg-soraka': 'starguardian140/',
      'sg-syndra': 'starguardian140/',
      'sg-zephyr': 'starguardian140/',
    };
    const summonerSpells = {
      '1': 'SummonerBoost',
      '3': 'SummonerExhaust',
      '4': 'SummonerFlash',
      '6': 'SummonerHaste',
      '7': 'SummonerHeal',
      '11': 'SummonerSmite',
      '12': 'SummonerTeleport',
      '13': 'SummonerMana',
      '14': 'SummonerDot',
      '21': 'SummonerBarrier',
      '30': 'SummonerPoroRecall',
      '31': 'SummonerPoroThrow',
      '32': 'SummonerSnowball',
      '39': 'SummonerSnowURFSnowball_Mark',
      '54': 'Summoner_UltBookPlaceholder',
      '55': 'Summoner_UltBookSmitePlaceholder'
    };
    const champions = {
      '1': 'Annie',
      '2': 'Olaf',
      '3': 'Galio',
      '4': 'TwistedFate',
      '5': 'XinZhao',
      '6': 'Urgot',
      '7': 'Leblanc',
      '8': 'Vladimir',
      '9': 'Fiddlesticks',
      '10': 'Kayle',
      '11': 'MasterYi',
      '12': 'Alistar',
      '13': 'Ryze',
      '14': 'Sion',
      '15': 'Sivir',
      '16': 'Soraka',
      '17': 'Teemo',
      '18': 'Tristana',
      '19': 'Warwick',
      '20': 'Nunu',
      '21': 'MissFortune',
      '22': 'Ashe',
      '23': 'Tryndamere',
      '24': 'Jax',
      '25': 'Morgana',
      '26': 'Zilean',
      '27': 'Singed',
      '28': 'Evelynn',
      '29': 'Twitch',
      '30': 'Karthus',
      '31': 'Chogath',
      '32': 'Amumu',
      '33': 'Rammus',
      '34': 'Anivia',
      '35': 'Shaco',
      '36': 'DrMundo',
      '37': 'Sona',
      '38': 'Kassadin',
      '39': 'Irelia',
      '40': 'Janna',
      '41': 'Gangplank',
      '42': 'Corki',
      '43': 'Karma',
      '44': 'Taric',
      '45': 'Veigar',
      '48': 'Trundle',
      '50': 'Swain',
      '51': 'Caitlyn',
      '53': 'Blitzcrank',
      '54': 'Malphite',
      '55': 'Katarina',
      '56': 'Nocturne',
      '57': 'Maokai',
      '58': 'Renekton',
      '59': 'JarvanIV',
      '60': 'Elise',
      '61': 'Orianna',
      '62': 'MonkeyKing',
      '63': 'Brand',
      '64': 'LeeSin',
      '67': 'Vayne',
      '68': 'Rumble',
      '69': 'Cassiopeia',
      '72': 'Skarner',
      '74': 'Heimerdinger',
      '75': 'Nasus',
      '76': 'Nidalee',
      '77': 'Udyr',
      '78': 'Poppy',
      '79': 'Gragas',
      '80': 'Pantheon',
      '81': 'Ezreal',
      '82': 'Mordekaiser',
      '83': 'Yorick',
      '84': 'Akali',
      '85': 'Kennen',
      '86': 'Garen',
      '89': 'Leona',
      '90': 'Malzahar',
      '91': 'Talon',
      '92': 'Riven',
      '96': 'KogMaw',
      '98': 'Shen',
      '99': 'Lux',
      '101': 'Xerath',
      '102': 'Shyvana',
      '103': 'Ahri',
      '104': 'Graves',
      '105': 'Fizz',
      '106': 'Volibear',
      '107': 'Rengar',
      '110': 'Varus',
      '111': 'Nautilus',
      '112': 'Viktor',
      '113': 'Sejuani',
      '114': 'Fiora',
      '115': 'Ziggs',
      '117': 'Lulu',
      '119': 'Draven',
      '120': 'Hecarim',
      '121': 'Khazix',
      '122': 'Darius',
      '126': 'Jayce',
      '127': 'Lissandra',
      '131': 'Diana',
      '133': 'Quinn',
      '134': 'Syndra',
      '136': 'AurelionSol',
      '141': 'Kayn',
      '142': 'Zoe',
      '143': 'Zyra',
      '145': 'Kaisa',
      '147': 'Seraphine',
      '150': 'Gnar',
      '154': 'Zac',
      '157': 'Yasuo',
      '161': 'Velkoz',
      '163': 'Taliyah',
      '164': 'Camille',
      '166': 'Akshan',
      '201': 'Braum',
      '202': 'Jhin',
      '203': 'Kindred',
      '222': 'Jinx',
      '223': 'TahmKench',
      '234': 'Viego',
      '235': 'Senna',
      '236': 'Lucian',
      '238': 'Zed',
      '240': 'Kled',
      '245': 'Ekko',
      '246': 'Qiyana',
      '254': 'Vi',
      '266': 'Aatrox',
      '267': 'Nami',
      '268': 'Azir',
      '350': 'Yuumi',
      '360': 'Samira',
      '412': 'Thresh',
      '420': 'Illaoi',
      '421': 'RekSai',
      '427': 'Ivern',
      '429': 'Kalista',
      '432': 'Bard',
      '497': 'Rakan',
      '498': 'Xayah',
      '516': 'Ornn',
      '517': 'Sylas',
      '518': 'Neeko',
      '523': 'Aphelios',
      '526': 'Rell',
      '555': 'Pyke',
      '711': 'Vex',
      '777': 'Yone',
      '875': 'Sett',
      '876': 'Lillia',
      '887': 'Gwen'
    };
    const items = ["1001","1004","1006","1011","1018","1026","1027","1028","1029","1031","1033","1035","1036","1037","1038","1039","1040","1042","1043","1052","1053","1054","1055","1056","1057","1058","1082","1083","2003","2010","2015","2031","2033","2051","2052","2055","2065","2138","2139","2140","2403","2419","2420","2421","2422","2423","2424","3001","3003","3004","3006","3009","3011","3020","3024","3026","3031","3033","3035","3036","3040","3041","3042","3044","3046","3047","3050","3051","3053","3057","3065","3066","3067","3068","3070","3071","3072","3074","3075","3076","3077","3078","3082","3083","3085","3086","3089","3091","3094","3095","3100","3102","3105","3107","3108","3109","3110","3111","3112","3113","3114","3115","3116","3117","3119","3121","3123","3124","3133","3134","3135","3139","3140","3142","3143","3145","3152","3153","3155","3156","3157","3158","3165","3177","3179","3181","3184","3190","3191","3193","3211","3222","3330","3340","3363","3364","3400","3504","3508","3513","3599","3600","3742","3748","3801","3802","3814","3850","3851","3853","3854","3855","3857","3858","3859","3860","3862","3863","3864","3916","4005","4401","4403","4628","4629","4630","4632","4633","4635","4636","4637","4638","4642","4643","4644","4645","6029","6035","6333","6609","6616","6617","6630","6631","6632","6653","6655","6656","6660","6662","6664","6670","6671","6672","6673","6675","6676","6677","6691","6692","6693","6694","6695","6696","8001","8020"];

    // If the sticker doesn't exist, just return the original string
    // Stickers List: https://www.reddit.com/r/leagueoflegends/comments/fc9ra0/all_the_stickers_from_the_league_forums_in_one/
    // Thanks to u/DarkAndromeda31
    // https://drive.google.com/drive/folders/1uwcG2HwBKMzx2hE809b_tbbrn6pw704u

    const handlers = {
      sticker(key) {
        const baseUrl = 'https://lolstatic-a.akamaihd.net/stickers/';
        return stickers[key] ? `<span class="sticker" style="background-image: url(${baseUrl + stickers[key] + key}.png)"></span>` : null;
      },
      champion(key) {
        const baseUrl = 'https://ddragon.leagueoflegends.com/cdn/11.24.1/img/champion/';
        return champions[key] ? `<span style="display: inline-block; background-size: cover; height: 36px; width: 36px; background-image: url(${baseUrl + champions[key]}.png)"></span>` : null;
      },
      summoner(key) {
        const baseUrl = 'https://ddragon.leagueoflegends.com/cdn/11.24.1/img/spell/';
        return summonerSpells[key] ? `<span style="display: inline-block; background-size: cover; height: 36px; width: 36px; background-image: url(${baseUrl + summonerSpells[key]}.png)"></span>` : null;
      },
      item(key) {
        const baseUrl = 'http://ddragon.leagueoflegends.com/cdn/11.24.1/img/item/';
        return items.includes(key) ? `<span style="display: inline-block; background-size: cover; height: 36px; width: 36px; background-image: url(${baseUrl + key}.png)"></span>` : null;
      },
    };
    return handlers[delimType](parseKey) || token.raw;
  }
};
